(function(e){function t(t){for(var s,r,i=t[0],l=t[1],c=t[2],u=0,m=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},o={app:0},n=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/clandraft/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"4e6c":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("div",{staticStyle:{"min-height":"100vh",display:"grid","place-items":"center","place-content":"center",color:"#33406f","font-size":"x-large"}},[a("svg",{staticClass:"tea",attrs:{width:"37",height:"48",viewbox:"0 0 37 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M27.0819 17H3.02508C1.91076 17 1.01376 17.9059 1.0485 19.0197C1.15761 22.5177 1.49703 29.7374 2.5 34C4.07125 40.6778 7.18553 44.8868 8.44856 46.3845C8.79051 46.79 9.29799 47 9.82843 47H20.0218C20.639 47 21.2193 46.7159 21.5659 46.2052C22.6765 44.5687 25.2312 40.4282 27.5 34C28.9757 29.8188 29.084 22.4043 29.0441 18.9156C29.0319 17.8436 28.1539 17 27.0819 17Z",stroke:"#33406f","stroke-width":"2"}}),a("path",{attrs:{d:"M29 23.5C29 23.5 34.5 20.5 35.5 25.4999C36.0986 28.4926 34.2033 31.5383 32 32.8713C29.4555 34.4108 28 34 28 34",stroke:"#33406f","stroke-width":"2"}}),a("path",{attrs:{id:"teabag",fill:"#33406f","fill-rule":"evenodd","clip-rule":"evenodd",d:"M16 25V17H14V25H12C10.3431 25 9 26.3431 9 28V34C9 35.6569 10.3431 37 12 37H18C19.6569 37 21 35.6569 21 34V28C21 26.3431 19.6569 25 18 25H16ZM11 28C11 27.4477 11.4477 27 12 27H18C18.5523 27 19 27.4477 19 28V34C19 34.5523 18.5523 35 18 35H12C11.4477 35 11 34.5523 11 34V28Z"}}),a("path",{attrs:{id:"steamL",d:"M17 1C17 1 17 4.5 14 6.5C11 8.5 11 12 11 12","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",stroke:"#33406f"}}),a("path",{attrs:{id:"steamR",d:"M21 6C21 6 21 8.22727 19 9.5C17 10.7727 17 13 17 13",stroke:"#33406f","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])]):e._e(),e.loading||e.matchup?e._e():a("div",{staticStyle:{"min-height":"100vh",display:"grid","place-items":"center","place-content":"center",color:"#33406f","font-size":"x-large"}},[a("div",{staticClass:"fade-in"},[e._v("could not load any data, are you logged in?")]),a("svg",{staticClass:"tea",attrs:{width:"37",height:"48",viewbox:"0 0 37 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M27.0819 17H3.02508C1.91076 17 1.01376 17.9059 1.0485 19.0197C1.15761 22.5177 1.49703 29.7374 2.5 34C4.07125 40.6778 7.18553 44.8868 8.44856 46.3845C8.79051 46.79 9.29799 47 9.82843 47H20.0218C20.639 47 21.2193 46.7159 21.5659 46.2052C22.6765 44.5687 25.2312 40.4282 27.5 34C28.9757 29.8188 29.084 22.4043 29.0441 18.9156C29.0319 17.8436 28.1539 17 27.0819 17Z",stroke:"#33406f","stroke-width":"2"}}),a("path",{attrs:{d:"M29 23.5C29 23.5 34.5 20.5 35.5 25.4999C36.0986 28.4926 34.2033 31.5383 32 32.8713C29.4555 34.4108 28 34 28 34",stroke:"#33406f","stroke-width":"2"}}),a("path",{attrs:{id:"teabag",fill:"#33406f","fill-rule":"evenodd","clip-rule":"evenodd",d:"M16 25V17H14V25H12C10.3431 25 9 26.3431 9 28V34C9 35.6569 10.3431 37 12 37H18C19.6569 37 21 35.6569 21 34V28C21 26.3431 19.6569 25 18 25H16ZM11 28C11 27.4477 11.4477 27 12 27H18C18.5523 27 19 27.4477 19 28V34C19 34.5523 18.5523 35 18 35H12C11.4477 35 11 34.5523 11 34V28Z"}}),a("path",{attrs:{id:"steamL",d:"M17 1C17 1 17 4.5 14 6.5C11 8.5 11 12 11 12","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",stroke:"#33406f"}}),a("path",{attrs:{id:"steamR",d:"M21 6C21 6 21 8.22727 19 9.5C17 10.7727 17 13 17 13",stroke:"#33406f","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])]),e.matchup?a("div",[a("div",{staticClass:"container-fluid"},[a("h3",[e._v("Clan Draft Result - "+e._s(e.matchup.competition)+", House "+e._s(e.matchup.house)+", Round "+e._s(e.matchup.round))]),e.leader?[a("p",[e._v("Drag the teams to their corresponding game. Add used powers, inform other Clan leader once the Draft Result is saved.")]),e.isUnchanged()||e.matchup.drafted?e._e():a("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.handleSave()}}},[e._v("save")]),e.isUnchanged()&&!e.matchup.drafted?a("button",{staticClass:"btn btn-primary mx-1",attrs:{disabled:e.disableConfirm},on:{click:function(t){return e.handleConfirm()}}},[e._v("confirm")]):e._e()]:e._e(),null!==e.matchup?[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"col-12 text-center"},[a("h2",[e._v(e._s(e.matchup.home.clan.name))])]),e._l(e.matchup.home.clan.teams,(function(t,s){return a("drag",{key:s,staticClass:"drag col-12",class:{used:e.used(t.team.id)},attrs:{"transfer-data":{team:t,side:"home"},draggable:!e.used(t.team.id)},on:{dragstart:e.handleDragStart}},[a("team",{attrs:{reddit:"test",team:t}})],1)}))],2),a("div",{staticClass:"col-6 mx-0 px-0"},e._l(e.contests,(function(t,s){return a("div",{key:s,staticClass:"row col-12 justify-content-center"},[a("div",{staticClass:"col-12 text-center"},[a("h2",[e._v("Game "+e._s(s+1))])]),a("div",{staticClass:"col"},[a("drop",{staticClass:"drop col-12 px-0",class:{over:e.over===-(s+1),planned:e.used(t.homeTeam?t.homeTeam.team.id:0)},attrs:{"data-home":""},on:{dragover:function(t){var a=arguments.length,o=Array(a);while(a--)o[a]=arguments[a];e.handleDragover.apply(void 0,["home",-(s+1)].concat(o))},dragleave:function(t){e.over=!1},drop:function(a){e.updateContest({contest:t,team:arguments[0],home:!0}),e.over=!1}}},[a("div",{staticClass:"float-left m-1",staticStyle:{color:"#eeeeee","font-size":"1.5rem"}},[a("svg",{staticClass:"bi bi-trash",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(a){return e.updateContest({contest:t,team:void 0,home:!0})}}},[a("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])]),a("team",{attrs:{reddit:"test",team:t.homeTeam}})],1)],1),a("div",{staticClass:"col"},[a("drop",{staticClass:"drop col-12 px-0",class:{over:e.over===s+1,planned:e.used(t.awayTeam?t.awayTeam.team.id:0)},attrs:{"data-away":""},on:{dragover:function(t){var a=arguments.length,o=Array(a);while(a--)o[a]=arguments[a];return e.handleDragover.apply(void 0,["away",s+1].concat(o))},dragleave:function(t){e.over=!1},drop:function(a){e.updateContest({contest:t,team:arguments[0],home:!1}),e.over=!1}}},[a("div",{staticClass:"float-right m-1",staticStyle:{color:"#eeeeee","font-size":"1.5rem"}},[a("svg",{staticClass:"bi bi-trash",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(a){return e.updateContest({contest:t,team:void 0,home:!1})}}},[a("path",{attrs:{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"}})])]),a("team",{attrs:{reddit:"test",team:t.awayTeam}})],1)],1)])})),0),a("div",{staticClass:"col-3"},[a("div",{staticClass:"col-12 text-center"},[a("h2",[e._v(e._s(e.matchup.away.clan.name))])]),e._l(e.matchup.away.clan.teams,(function(t,s){return a("drag",{key:s,staticClass:"drag col-12",class:{used:e.used(t.team.id)},attrs:{"transfer-data":{team:t,side:"away"}}},[a("team",{attrs:{reddit:"test",team:t}})],1)}))],2)]),a("div",{staticClass:"row col-12"},[a("div",{staticClass:"col-6"},[a("h3",[e._v("Available Powers")]),a("powers",{attrs:{powers:e.matchup.home.clan.powers,home:!0,use:e.usePower}}),a("hr"),a("h3",[e._v("Used Powers")]),a("powers",{attrs:{powers:e.usedPowers.home,home:!0,unuse:e.unusePower}})],1),a("div",{staticClass:"col-6 text-right"},[e._m(0),a("powers",{attrs:{powers:e.matchup.away.clan.powers,home:!1,use:e.usePower}}),a("hr"),e._m(1),a("powers",{attrs:{powers:e.usedPowers.away,home:!1,unuse:e.unusePower}})],1)])]:e._e()],2)]):e._e(),a("Toasts",{attrs:{"show-progress":!1,rtl:!1,"max-messages":7,"time-out":5e3,closeable:!0}})],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row col-12"},[a("h3",{staticClass:"col-12"},[e._v("Available Powers")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row col-12"},[a("h3",{staticClass:"col-12"},[e._v("Used Powers")])])}],r=a("df76"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!==e.team?a("div",{staticClass:"p-1"},[a("span",{staticClass:"text-info"},[e._v(e._s(e.team.team.name))]),a("img",{staticStyle:{height:"40px"},attrs:{src:"https://cdn.rebbl.net/images/bb3/Logos/100x100/"+e.team.team.logo.replace(/Chosen|Renegade/,'')+".png"}}),a("br"),a("span",{staticClass:"badge badge-warning mx-1"},[e._v(" "+e._s(e.team.coach.name))]),a("span",{staticClass:"badge badge-info mx-1"},[e._v("TV: "+e._s(e.team.team.nextMatchTV||e.team.team.value))])]):e._e()},l=[],c={props:["reddit","team"]},d=c,u=a("82a7"),m=Object(u["a"])(d,i,l,!1,null,null,null),p=m.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(Object.keys(e.powers),(function(t){return[e._l(e.powers[t],(function(s){return[["assassination","inspiration","bloodSacrifice","stuntyAssassination","stuntyInspiration"].includes(t)?[e.use?[a("button",{staticClass:"btn btn-outline-info btn-sm m-1",attrs:{type:"button","data-toggle":"modal","data-target":"#player-"+e.id},on:{click:function(a){e.currentPower=t}}},[e._v(e._s(e.powerName(t))+" ")])]:e.unuse?[a("div",{staticClass:"border border-info text-info m-1 d-inline-block align-top",staticStyle:{width:"max-content","border-radius":".2rem",padding:".25rem .5rem"},on:{click:function(a){return e.unuse({power:t,home:e.home})}}},[a("h5",[e._v(e._s(e.powerName(t))+" ")]),a("h6",[e._v(e._s(s.team.name))]),a("span",{staticClass:"badge badge-info mx-1"},[e._v(e._s(s.player.name))]),s.player2?[a("span",{staticClass:"badge badge-info mx-1"},[e._v(e._s(s.player2.name))])]:e._e()],2)]:e._e()]:["emergencyRnR"].includes(t)?[e.use?[a("button",{staticClass:"btn btn-outline-info btn-sm m-1",attrs:{type:"button","data-toggle":"modal","data-target":"#team-"+e.id},on:{click:function(a){e.currentPower=t}}},[e._v(e._s(e.powerName(t))+" ")])]:e.unuse?[a("div",{staticClass:"border border-info text-info m-1 d-inline-block align-top",staticStyle:{width:"max-content","border-radius":".2rem",padding:".25rem .5rem"},on:{click:function(a){return e.unuse({power:t,home:e.home})}}},[a("h5",[e._v(e._s(e.powerName(t))+" ")]),a("h6",[e._v(e._s(s.team.name))])])]:e._e()]:["badInducementDeal","lastMinuteSwitch","miscommunication","stuntyBadInducementDeal","stuntyLastMinuteSwitch","stuntyMiscommunication","confusion","stuntyConfusion","hatredOfPublicTransport","stuntyHatredOfPublicTransport","financialFairPlay"].includes(t)?[a("button",{key:t+s,staticClass:"btn btn-outline-info btn-sm m-1",attrs:{type:"button"},on:{click:function(a){e.use?e.use({power:t,home:e.home}):e.unuse({power:t,home:e.home})}}},[e._v(e._s(e.powerName(t))+" ")])]:e._e()]}))]})),a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"player-"+e.id}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[e._t("header",[""!=e.currentPower?[a("h5",{staticClass:"modal-title"},[e._v("Apply "+e._s(e.powerName(e.currentPower))+" ")])]:e._e(),e._m(0)])],2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"input-group mb-3"},[e._m(1),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedTeam,expression:"selectedTeam"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedTeam=t.target.multiple?a:a[0]},function(t){return e.loadPlayers()}]}},[["assassination","stuntyAssassination"].indexOf(e.currentPower)>-1?e._l(e.home?e.awayTeams():e.homeTeams(),(function(t){return a("option",{key:t.team.id,domProps:{value:{id:t.team.id,name:t.team.name,coachId:t.team.idcoach}}},[e._v(e._s(t.team.name))])})):e._l(e.home?e.homeTeams():e.awayTeams(),(function(t){return a("option",{key:t.team.id,domProps:{value:{id:t.team.id,name:t.team.name,coachId:t.team.idcoach}}},[e._v(e._s(t.team.name))])}))],2)]),e.selectedTeam?[a("div",{staticClass:"input-group mb-3"},[e._m(2),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPlayer,expression:"selectedPlayer"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPlayer=t.target.multiple?a:a[0]}}},e._l(e.players,(function(t){return a("option",{key:t.id,domProps:{value:{id:t.id,name:t.name}}},[e._v(e._s(t.name)+" ")])})),0)]),"bloodSacrifice"===e.currentPower?[a("div",{staticClass:"input-group mb-3"},[e._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPlayer2,expression:"selectedPlayer2"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPlayer2=t.target.multiple?a:a[0]}}},e._l(e.players,(function(t){return a("option",{key:t.id,domProps:{value:{id:t.id,name:t.name}}},[e._v(e._s(t.name)+" ")])})),0)])]:e._e()]:e._e()],2),a("div",{staticClass:"modal-footer"},[e._t("footer",[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel & Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.use({power:e.currentPower,home:e.home,team:e.selectedTeam,player:e.selectedPlayer,player2:e.selectedPlayer2}),e.close("player")}}},[e._v("Use ")])])],2)])])]),a("div",{staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog",id:"team-"+e.id}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[e._t("header",[""!=e.currentPower?[a("h5",{staticClass:"modal-title"},[e._v("Apply "+e._s(e.powerName(e.currentPower))+" ")])]:e._e(),e._m(4)])],2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"input-group"},[e._m(5),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedTeam,expression:"selectedTeam"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedTeam=t.target.multiple?a:a[0]}}},e._l(e.home?e.homeTeams():e.awayTeams(),(function(t){return a("option",{key:t.team.id,domProps:{value:{id:t.team.id,name:t.team.name,coachId:t.team.idcoach}}},[e._v(e._s(t.team.name))])})),0)])]),a("div",{staticClass:"modal-footer"},[e._t("footer",[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel & Close")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.use({power:e.currentPower,home:e.home,team:e.selectedTeam}),e.close("team")}}},[e._v("Use ")])])],2)])])])],2)},f=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"home"}},[e._v("Select team")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"home"}},[e._v("Select player")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"home"}},[e._v("Optional 2nd player ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"home"}},[e._v("Select team")])])}],g=a("2f62");const v=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16));var w={data:function(){return{id:v(),currentPower:"",selectedTeam:0,selectedPlayer:"",selectedPlayer2:"",players:[]}},props:["powers","home","use","unuse"],computed:Object(g["d"])({...Object(g["c"])("powers",["powerName"]),...Object(g["c"])("draft",["awayTeams","homeTeams","getPlayers"])}),methods:{loadPlayers:async function(){this.players=await this.getPlayers(this.selectedTeam.id),this.selectedPlayer="",this.selectedPlayer2=""},close:function(e){const t=document.getElementById(`${e}-${this.id}`);t.classList.toggle("show"),t.style.display="none";const a=document.getElementsByClassName("modal-backdrop")[0];a.classList.toggle("show"),a.parentNode.removeChild(a);const s=document.getElementsByClassName("modal-open")[0];s.classList.toggle("modal-open")}}},y=w,C=Object(u["a"])(y,h,f,!1,null,null,null),b=C.exports,_={components:{Drag:r["Drag"],Drop:r["Drop"],Powers:b,Team:p},computed:Object(g["d"])({...Object(g["c"])("draft",["awayTeam","homeTeam","used","isUnchanged"]),...Object(g["c"])("powers",["powerName"]),matchup:e=>e.draft.matchup,contests:e=>e.draft.contests,usedPowers:e=>e.draft.usedPowers,leader:e=>e.draft.leader,loading:e=>e.draft.loading}),data:function(){return{over:!1,disableConfirm:!1}},methods:{...Object(g["b"])("draft",["confirm","save","unusePower","updateContest","usePower"]),handleSave:async function(){const e=await this.save();!0===e?this.$toast.success("Saved successfully."):this.$toast.error(e)},handleConfirm:async function(){this.disableConfirm=!0;let e=await this.confirm();!0===e?this.$toast.success("Confirmed successfully."):this.$toast.error(e),this.loadDraft()},handleDragover:function(e,t,a,s){this.over=t,e!==a.side&&(s.dataTransfer.dropEffect="none")},handleDragStart:function(e,t){t.target.classList.contains("drag")||t.preventDefault()},loadDraft:async function(){const e=window.location.search.replace("/clandraft","").split("/");if(e.length>0){const e=new URL(window.location).searchParams;this.$store.dispatch("draft/getMatchup",{division:e.get("division"),round:Number(e.get("round")),house:Number(e.get("house"))})}else this.$store.dispatch("draft/getMatchup")}},created(){this.loadDraft(),this.$store.dispatch("powers/getPowers")}},P=_,T=(a("9993"),Object(u["a"])(P,o,n,!1,null,null,null)),x=T.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"toast-container",attrs:{"aria-live":"polite","aria-atomic":"true"}},[a("TransitionGroup",{attrs:{name:"toast",tag:"div",appear:""}},e._l(e.messages,(function(t){return a("div",{key:t.id,staticClass:"toast show",attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"},on:{mouseover:function(a){return e.pauseProgress(t)},mouseout:function(a){return e.resumeProgress(t)}}},[t.timeOut>0&&t.showProgress?a("div",{staticClass:"progress rounded-0",staticStyle:{height:"6px"}},[a("div",{class:"bg-"+t.type,style:{width:e.getCurrentProgress(t)+"%"}})]):e._e(),a("div",{staticClass:"toast-header",class:"bg-"+t.type,staticStyle:{height:"35px"}},[a("strong",{staticClass:"ml-auto"},[a("i",{staticClass:"toast-icon",class:e.getIconClass(t)})]),t.closeable?a("button",{staticClass:"mr-2 mb-1 close",attrs:{type:"button","data-dismiss":"toast","aria-label":"Close"},on:{click:function(a){return e.remove(t)}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]):e._e()]),a("div",{staticClass:"toast-body"},[e._v(e._s(t.message))])])})),0)],1)},O=[];const M=new s["a"];var S={props:{showProgress:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},maxMessages:{type:Number,default:5},timeOut:{type:Number,default:3e3},closeable:{type:Boolean,default:!0}},data(){return{messages:[],count:0}},created(){M.$on("toast-message",this.handleMessageEvent)},methods:{handleMessageEvent(e){e.message&&this.addMessage(e.message,e.type,e.options)},addMessage(e,t,a={}){var s={id:this.count++,message:e,type:t,showProgress:this.showProgress,timeOut:this.timeOut,closeable:this.closeable,rtl:this.rtl,progress:0,paused:!1,animationFrame:null};s=Object.assign({},s,a),this.messages.unshift(s),this.messages.length>this.maxMessages&&this.messages.splice(this.maxMessages),s.timeOut>0&&this.startTimeout(s)},startTimeout(e,t=0){const a=this,s=performance.now(),o=()=>{e.animationFrame=requestAnimationFrame(n=>{const r=n+t-s;if(a.exists(e)&&!e.paused){if(!(r<e.timeOut))return e.progress=1,cancelAnimationFrame(e.animationFrame),void a.remove(e);{const t=r/e.timeOut;e.progress=t,o()}}else cancelAnimationFrame(e.animationFrame)})};o()},pauseProgress(e){e.timeOut<=0||(e.paused=!0)},resumeProgress(e){e.timeOut<=0||(e.paused=!1,this.startTimeout(e,e.timeOut*e.progress))},getCurrentProgress(e){return 100===Math.round(100*e.progress)?100:100*e.progress},getIconClass(e){var t="toast-icon-"+e.type;return e.rtl?"icon-right "+t:"icon-left "+t},remove(e){const t=this.messages.findIndex(t=>t.id===e.id);this.messages.splice(t,1)},exists(e){const t=this.messages.findIndex(t=>t.id===e.id);return-1!==t}}},j=S,$=(a("d854"),Object(u["a"])(j,k,O,!1,null,"2d4b769c",null)),N=$.exports;const V={install(e){e.prototype.$toast={send(e,t,a){M.$emit("toast-message",{message:e,type:t,options:a})},success(e,t={}){this.send(e,"success",t)},warning(e,t={}){this.send(e,"warning",t)},info(e,t={}){this.send(e,"info",t)},error(e,t={}){this.send(e,"danger",t)}},e.component("Toasts",N)}};"undefined"!==typeof window&&window.Vue&&window.Vue.use(V);var H=V,A={getMatchup:async e=>{let t;if(t=e&&e.division?await fetch(`/api/v2/clan/draft/${e.division}/${e.round}/${e.house}`):await fetch("/api/v2/clan/draft/"),t.ok){let e=await t.json();return e}return null},getPowers:async()=>{let e=await fetch("/api/v2/clan/powers");return e.ok?await e.json():null},getTeamPlayers:async e=>{let t=await fetch(`/api/v2/team/${e}/players`);return t.ok?await t.json():null},saveContests:async e=>{let t=await fetch("/api/v2/clan/draft",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return!0;let a=await t.json();return a.message},confirmContests:async e=>{let t=await fetch("/api/v2/clan/draft",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)return!0;let a=await t.json();return a.message}};const D=()=>({assassination:[],badInducementDeal:0,bloodSacrifice:[],emergencyIntensiveCare:0,emergencyRnR:[],inspiration:[],lastMinuteSwitch:0,miscommunication:0,newBlood:0,confusion:0,hatredOfPublicTransport:0,stuntyHatredOfPublicTransport:0,stuntyInspiration:[],stuntyLastMinuteSwitch:0,stuntyMiscommunication:0,stuntyAssassination:[],stuntyBadInducementDeal:0,stuntyConfusion:0,financialFairPlay:0}),E={matchup:null,leader:!1,loading:!0,contests:[{awayTeam:null,homeTeam:null},{awayTeam:null,homeTeam:null},{awayTeam:null,homeTeam:null},{awayTeam:null,homeTeam:null},{awayTeam:null,homeTeam:null}],usedPowers:{home:D(),away:D()},original:{usedPowers:{},contests:{}}},L=(e,t)=>{let a=e=>Object.entries(e).sort().map(e=>(e[1]instanceof Object&&(e[1]=a(e[1])),e));return JSON.stringify(a(e))===JSON.stringify(a(t))},z={awayTeam:e=>t=>e.contests[t].awayTeam?e.contests[t].awayTeam.team:null,awayTeams:e=>()=>e.matchup.away.clan.teams,homeTeam:e=>t=>e.contests[t].homeTeam?e.contests[t].homeTeam.team:null,homeTeams:e=>()=>e.matchup.home.clan.teams,used:e=>t=>!!e.contests.find(e=>e.homeTeam&&e.homeTeam.team.id===t||e.awayTeam&&e.awayTeam.team.id===t),getPlayers:()=>async e=>await A.getTeamPlayers(e),isUnchanged:e=>()=>L(e.contests,e.original.contests)&&L(e.usedPowers,e.original.usedPowers)},I={async getMatchup({commit:e},t){try{let a=await A.getMatchup(t);e("setMatchup",a.schedule),a.leader&&e("setLeader")}finally{e("setLoadingDone")}},updateContest({commit:e},t){e("updateContest",t)},usePower({commit:e},t){e("updatePower",t)},unusePower({commit:e},t){e("releasePower",t)},save:async({state:e})=>await A.saveContests({contests:e.contests,powers:e.usedPowers,competition:e.matchup.competition,house:e.matchup.house,round:e.matchup.round,season:e.matchup.season}),confirm:async({state:e})=>await A.confirmContests({competition:e.matchup.competition,house:e.matchup.house,round:e.matchup.round,season:e.matchup.season})},B={setMatchup(e,t){t.contests&&(e.contests=t.contests,e.original.contests=t.contests.map(e=>JSON.parse(JSON.stringify(e))),delete t.contests),t.usedPowers&&(Object.assign(e.usedPowers,t.usedPowers),e.original.usedPowers=JSON.parse(JSON.stringify(t.usedPowers)),delete t.usedPowers),e.matchup=t},setLeader(e){e.leader=!0},setLoadingDone(e){e.loading=!1},updateContest(e,{contest:t,team:a,home:s}){const o=e.contests.indexOf(t);s?e.contests[o].homeTeam=a?a.team:null:e.contests[o].awayTeam=a?a.team:null},updatePower(e,{power:t,home:a,team:s,player:o,player2:n}){a?(s?e.usedPowers.home[t].push({team:s,player:o||null,player2:n||null}):e.usedPowers.home[t]++,e.matchup.home.clan.powers[t]--):(s?e.usedPowers.away[t].push({team:s,player:o||null,player2:n||null}):e.usedPowers.away[t]++,e.matchup.away.clan.powers[t]--)},releasePower(e,{power:t,home:a}){a?(isNaN(e.usedPowers.home[t])?e.usedPowers.home[t].splice(e.usedPowers.home[t].length-1,1):e.usedPowers.home[t]--,e.matchup.home.clan.powers[t]++):(isNaN(e.usedPowers.away[t])?e.usedPowers.away[t].splice(e.usedPowers.away[t].length-1,1):e.usedPowers.away[t]--,e.matchup.away.clan.powers[t]++)}};var F={namespaced:!0,state:E,getters:z,actions:I,mutations:B};const R={powers:[]},U={powerName:e=>t=>e.powers.find(e=>e.key===t)?e.powers.find(e=>e.key===t).name:"",powerDescription:e=>t=>e.powers.find(e=>e.key===t)?e.powers.find(e=>e.key===t).description:""},J={async getPowers({commit:e}){let t=await A.getPowers();e("setPowers",t)}},Z={setPowers(e,t){e.powers=t}};var G={namespaced:!0,state:R,getters:U,actions:J,mutations:Z};function q(e,t){return e.filter(t)[0]}function K(e,t=[]){if(null===e||"object"!==typeof e)return e;const a=q(t,t=>t.original===e);if(a)return a.copy;const s=Array.isArray(e)?[]:{};return t.push({original:e,copy:s}),Object.keys(e).forEach(a=>{s[a]=K(e[a],t)}),s}function Q({collapsed:e=!0,filter:t=(()=>!0),transformer:a=(e=>e),mutationTransformer:s=(e=>e),logger:o=console}={}){return n=>{let r=K(n.state);n.subscribe((n,i)=>{if("undefined"===typeof o)return;const l=K(i);if(t(n,r,l)){const t=new Date,i=` @ ${X(t.getHours(),2)}:${X(t.getMinutes(),2)}:${X(t.getSeconds(),2)}.${X(t.getMilliseconds(),3)}`,d=s(n),u=`mutation ${n.type}${i}`,m=e?o.groupCollapsed:o.group;try{m.call(o,u)}catch(c){o.log(u)}o.log("%c prev state","color: #9E9E9E; font-weight: bold",a(r)),o.log("%c mutation","color: #03A9F4; font-weight: bold",d),o.log("%c next state","color: #4CAF50; font-weight: bold",a(l));try{o.groupEnd()}catch(c){o.log("—— log end ——")}}r=l})}}function W(e,t){return new Array(t+1).join(e)}function X(e,t){return W("0",t-e.toString().length)+e}s["a"].use(g["a"]);const Y=!1;var ee=new g["a"].Store({modules:{draft:F,powers:G},strict:Y,plugins:Y?[Q()]:[]});a("4989"),a("ab8b");s["a"].use(H),s["a"].config.productionTip=!1,new s["a"]({store:ee,render:function(e){return e(x)}}).$mount("#app")},9993:function(e,t,a){"use strict";a("9b4b")},"9b4b":function(e,t,a){},d854:function(e,t,a){"use strict";a("4e6c")}});
//# sourceMappingURL=app.8522da79.js.map